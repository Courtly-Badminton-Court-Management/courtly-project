{"openapi":"3.0.3","info":{"title":"Your Project API","version":"1.0.0","description":"Your project description"},"paths":{"/api/auth/login/":{"post":{"operationId":"auth_login_create","description":"POST /api/auth/login/ with {username,password} or {email,password}\nReturns: {access, refresh}","tags":["auth"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourtlyTokenObtainPair"}},"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/CourtlyTokenObtainPair"}},"multipart/form-data":{"schema":{"$ref":"#/components/schemas/CourtlyTokenObtainPair"}}},"required":true},"security":[{}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourtlyTokenObtainPair"}}},"description":""}}}},"/api/auth/me/":{"get":{"operationId":"auth_me_retrieve","tags":["auth"],"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"200":{"description":"No response body"}}}},"/api/auth/register/":{"post":{"operationId":"auth_register_create","description":"POST /api/auth/register/\nBody accepts: username, email, password, confirm, firstname, lastname, accept\n(serializer mapittaa firstname/lastname -> first_name/last_name)","tags":["auth"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Register"}},"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Register"}},"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Register"}}},"required":true},"security":[{"cookieAuth":[]},{"jwtAuth":[]},{}],"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Register"}}},"description":""}}}},"/api/auth/token/refresh/":{"post":{"operationId":"auth_token_refresh_create","description":"Takes a refresh type JSON web token and returns an access type JSON web\ntoken if the refresh token is valid.","tags":["auth"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenRefresh"}},"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/TokenRefresh"}},"multipart/form-data":{"schema":{"$ref":"#/components/schemas/TokenRefresh"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenRefresh"}}},"description":""}}}},"/api/bookings/":{"post":{"operationId":"bookings_create","description":"รับ payload:\n{\n  \"club\": 1,\n  \"items\": [\n    {\"court\":4,\"date\":\"2025-09-05\",\"start\":\"10:00\",\"end\":\"12:00\"}\n  ]\n}\n- ล็อกแถว Slot ที่เกี่ยวข้องด้วย select_for_update(OF SELF)\n- ตรวจว่า slot ทุกตัว status=available\n- สร้าง Booking + BookingSlot\n- อัปเดต SlotStatus เป็น booked","tags":["bookings"],"security":[{"cookieAuth":[]},{"jwtAuth":[]},{}],"responses":{"200":{"description":"No response body"}}}},"/api/bookings-admin/":{"get":{"operationId":"bookings_admin_list","tags":["bookings-admin"],"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Booking"}}}},"description":""}}},"post":{"operationId":"bookings_admin_create","tags":["bookings-admin"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}},"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Booking"}},"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Booking"}}},"required":true},"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}}},"description":""}}}},"/api/bookings-admin/{id}/":{"get":{"operationId":"bookings_admin_retrieve","parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"description":"A unique integer value identifying this booking.","required":true}],"tags":["bookings-admin"],"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}}},"description":""}}},"put":{"operationId":"bookings_admin_update","parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"description":"A unique integer value identifying this booking.","required":true}],"tags":["bookings-admin"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}},"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Booking"}},"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Booking"}}},"required":true},"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}}},"description":""}}},"patch":{"operationId":"bookings_admin_partial_update","parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"description":"A unique integer value identifying this booking.","required":true}],"tags":["bookings-admin"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatchedBooking"}},"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/PatchedBooking"}},"multipart/form-data":{"schema":{"$ref":"#/components/schemas/PatchedBooking"}}}},"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}}},"description":""}}},"delete":{"operationId":"bookings_admin_destroy","parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"description":"A unique integer value identifying this booking.","required":true}],"tags":["bookings-admin"],"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"204":{"description":"No response body"}}}},"/api/bookings-admin/{id}/cancel/":{"delete":{"operationId":"bookings_admin_cancel_destroy","parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"description":"A unique integer value identifying this booking.","required":true}],"tags":["bookings-admin"],"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"204":{"description":"No response body"}}}},"/api/slots/":{"get":{"operationId":"slots_list","tags":["slots"],"security":[{"cookieAuth":[]},{"jwtAuth":[]},{}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Slot"}}}},"description":""}}}},"/api/slots/{id}/":{"get":{"operationId":"slots_retrieve","parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"description":"A unique integer value identifying this slot.","required":true}],"tags":["slots"],"security":[{"cookieAuth":[]},{"jwtAuth":[]},{}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Slot"}}},"description":""}}}},"/api/slots/month-view/":{"get":{"operationId":"slots_month_view_retrieve","description":"GET /api/slots/month-view?club=1&month=2025-09\nResponse:\n{\n  \"month\":\"09-25\",\n  \"days\":[{\"date\":\"01-09-25\",\"slotList\":{\"<slotId>\":{...}}}, ...]\n}","tags":["slots"],"security":[{"cookieAuth":[]},{"jwtAuth":[]},{}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Slot"}}},"description":""}}}}},"components":{"schemas":{"Booking":{"type":"object","properties":{"id":{"type":"integer","readOnly":true},"booking_no":{"type":"string","maxLength":24},"club":{"type":"integer"},"court":{"type":"integer"},"slot":{"type":"integer","nullable":true},"status":{"$ref":"#/components/schemas/BookingStatusEnum"},"created_at":{"type":"string","format":"date-time","readOnly":true}},"required":["booking_no","club","court","created_at","id"]},"BookingStatusEnum":{"enum":["pending","confirmed","checked_in","cancelled","completed","no_show"],"type":"string","description":"* `pending` - pending\n* `confirmed` - confirmed\n* `checked_in` - checked_in\n* `cancelled` - cancelled\n* `completed` - completed\n* `no_show` - no_show"},"CourtlyTokenObtainPair":{"type":"object","description":"Accepts either {\"username\",\"password\"} or {\"email\",\"password\"}.\nMakes 'username' optional so posting only email works.","properties":{"username":{"type":"string","writeOnly":true},"password":{"type":"string","writeOnly":true},"email":{"type":"string","format":"email"}},"required":["password"]},"PatchedBooking":{"type":"object","properties":{"id":{"type":"integer","readOnly":true},"booking_no":{"type":"string","maxLength":24},"club":{"type":"integer"},"court":{"type":"integer"},"slot":{"type":"integer","nullable":true},"status":{"$ref":"#/components/schemas/BookingStatusEnum"},"created_at":{"type":"string","format":"date-time","readOnly":true}}},"Register":{"type":"object","properties":{"username":{"type":"string","description":"Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only.","pattern":"^[\\w.@+-]+$","maxLength":150},"email":{"type":"string","format":"email","maxLength":254},"firstname":{"type":"string"},"lastname":{"type":"string"},"password":{"type":"string","writeOnly":true,"minLength":8},"confirm":{"type":"string","writeOnly":true},"accept":{"type":"boolean","writeOnly":true}},"required":["accept","confirm","email","firstname","lastname","password","username"]},"Slot":{"type":"object","properties":{"id":{"type":"integer","readOnly":true},"court":{"type":"integer"},"service_date":{"type":"string","format":"date"},"start_at":{"type":"string","format":"date-time"},"end_at":{"type":"string","format":"date-time"},"price_coins":{"type":"integer","maximum":2147483647,"minimum":0},"slot_status":{"allOf":[{"$ref":"#/components/schemas/SlotStatus"}],"readOnly":true}},"required":["court","end_at","id","service_date","slot_status","start_at"]},"SlotStatus":{"type":"object","properties":{"status":{"$ref":"#/components/schemas/SlotStatusStatusEnum"},"updated_at":{"type":"string","format":"date-time","readOnly":true}},"required":["updated_at"]},"SlotStatusStatusEnum":{"enum":["available","booked","maintenance"],"type":"string","description":"* `available` - available\n* `booked` - booked\n* `maintenance` - maintenance"},"TokenRefresh":{"type":"object","properties":{"access":{"type":"string","readOnly":true},"refresh":{"type":"string","writeOnly":true}},"required":["access","refresh"]}},"securitySchemes":{"cookieAuth":{"type":"apiKey","in":"cookie","name":"sessionid"},"jwtAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}