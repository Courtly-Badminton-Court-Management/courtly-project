{"openapi":"3.0.3","info":{"title":"Your Project API","version":"1.0.0","description":"Your project description"},"paths":{"/api/auth/auth/login/":{"post":{"operationId":"auth_auth_login_create","description":"POST /api/auth/login/ with {username,password} or {email,password}\nReturns: {access, refresh, firstLogin, user}","tags":["auth"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourtlyTokenObtainPair"}},"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/CourtlyTokenObtainPair"}},"multipart/form-data":{"schema":{"$ref":"#/components/schemas/CourtlyTokenObtainPair"}}},"required":true},"security":[{}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourtlyTokenObtainPair"}}},"description":""}}}},"/api/auth/auth/register/":{"post":{"operationId":"auth_auth_register_create","description":"POST /api/auth/register/\nBody accepts: username, email, password, confirm, firstname, lastname, accept\n(serializer maps firstname/lastname -> first_name/last_name)","tags":["auth"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Register"}},"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Register"}},"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Register"}}},"required":true},"security":[{"cookieAuth":[]},{"jwtAuth":[]},{}],"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Register"}}},"description":""}}}},"/api/auth/auth/token/refresh/":{"post":{"operationId":"auth_auth_token_refresh_create","description":"Takes a refresh type JSON web token and returns an access type JSON web\ntoken if the refresh token is valid.","tags":["auth"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenRefresh"}},"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/TokenRefresh"}},"multipart/form-data":{"schema":{"$ref":"#/components/schemas/TokenRefresh"}}},"required":true},"security":[{}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenRefresh"}}},"description":""}}}},"/api/auth/coins/add":{"post":{"operationId":"auth_coins_add_create","tags":["auth"],"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"200":{"description":"No response body"}}}},"/api/auth/login/":{"post":{"operationId":"auth_login_create","description":"POST /api/auth/login/ with {username,password} or {email,password}\nReturns: {access, refresh, firstLogin, user}","tags":["auth"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourtlyTokenObtainPair"}},"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/CourtlyTokenObtainPair"}},"multipart/form-data":{"schema":{"$ref":"#/components/schemas/CourtlyTokenObtainPair"}}},"required":true},"security":[{}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourtlyTokenObtainPair"}}},"description":""}}}},"/api/auth/me":{"get":{"operationId":"auth_me_retrieve","tags":["auth"],"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"200":{"description":"No response body"}}},"patch":{"operationId":"auth_me_partial_update","tags":["auth"],"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"200":{"description":"No response body"}}}},"/api/auth/me/":{"get":{"operationId":"auth_me_retrieve_2","tags":["auth"],"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"200":{"description":"No response body"}}},"patch":{"operationId":"auth_me_partial_update_2","tags":["auth"],"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"200":{"description":"No response body"}}}},"/api/auth/register/":{"post":{"operationId":"auth_register_create","description":"POST /api/auth/register/\nBody accepts: username, email, password, confirm, firstname, lastname, accept\n(serializer maps firstname/lastname -> first_name/last_name)","tags":["auth"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Register"}},"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Register"}},"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Register"}}},"required":true},"security":[{"cookieAuth":[]},{"jwtAuth":[]},{}],"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Register"}}},"description":""}}}},"/api/auth/token/refresh/":{"post":{"operationId":"auth_token_refresh_create","description":"Takes a refresh type JSON web token and returns an access type JSON web\ntoken if the refresh token is valid.","tags":["auth"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenRefresh"}},"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/TokenRefresh"}},"multipart/form-data":{"schema":{"$ref":"#/components/schemas/TokenRefresh"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenRefresh"}}},"description":""}}}},"/api/bookings/":{"post":{"operationId":"bookings_create","description":"POST /api/bookings/","tags":["bookings"],"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"200":{"description":"No response body"}}}},"/api/bookings-admin/":{"get":{"operationId":"bookings_admin_list","tags":["bookings-admin"],"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Booking"}}}},"description":""}}},"post":{"operationId":"bookings_admin_create","tags":["bookings-admin"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}},"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Booking"}},"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Booking"}}},"required":true},"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}}},"description":""}}}},"/api/bookings-admin/{id}/":{"get":{"operationId":"bookings_admin_retrieve","parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"description":"A unique integer value identifying this booking.","required":true}],"tags":["bookings-admin"],"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}}},"description":""}}},"put":{"operationId":"bookings_admin_update","parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"description":"A unique integer value identifying this booking.","required":true}],"tags":["bookings-admin"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}},"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Booking"}},"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Booking"}}},"required":true},"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}}},"description":""}}},"patch":{"operationId":"bookings_admin_partial_update","parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"description":"A unique integer value identifying this booking.","required":true}],"tags":["bookings-admin"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatchedBooking"}},"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/PatchedBooking"}},"multipart/form-data":{"schema":{"$ref":"#/components/schemas/PatchedBooking"}}}},"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}}},"description":""}}},"delete":{"operationId":"bookings_admin_destroy","parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"description":"A unique integer value identifying this booking.","required":true}],"tags":["bookings-admin"],"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"204":{"description":"No response body"}}}},"/api/bookings-admin/{id}/cancel/":{"delete":{"operationId":"bookings_admin_cancel_destroy","parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"description":"A unique integer value identifying this booking.","required":true}],"tags":["bookings-admin"],"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"204":{"description":"No response body"}}}},"/api/bookings/{booking_no}/cancel/":{"post":{"operationId":"bookings_cancel_create","description":"POST /api/bookings/<booking_no>/cancel/\n- Cancel a booking by booking_no (not ID)\n- Refund coins and release slots if cancelled >24 hours before start time","parameters":[{"in":"path","name":"booking_no","schema":{"type":"string"},"required":true}],"tags":["bookings"],"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"200":{"description":"No response body"}}}},"/api/bookings/all/":{"get":{"operationId":"bookings_all_retrieve","description":"GET /api/all-bookings/","tags":["bookings"],"security":[{"cookieAuth":[]},{"jwtAuth":[]},{}],"responses":{"200":{"description":"No response body"}}}},"/api/history/":{"get":{"operationId":"history_retrieve","description":"GET /api/history/","tags":["history"],"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"200":{"description":"No response body"}}}},"/api/slots/":{"get":{"operationId":"slots_list","tags":["slots"],"security":[{"cookieAuth":[]},{"jwtAuth":[]},{}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Slot"}}}},"description":""}}}},"/api/slots/{id}/":{"get":{"operationId":"slots_retrieve","parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"description":"A unique integer value identifying this slot.","required":true}],"tags":["slots"],"security":[{"cookieAuth":[]},{"jwtAuth":[]},{}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Slot"}}},"description":""}}}},"/api/slots/month-view/":{"get":{"operationId":"slots_month_view_retrieve","description":"GET /api/slots/month-view?club=1&month=2025-09","tags":["slots"],"security":[{"cookieAuth":[]},{"jwtAuth":[]},{}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Slot"}}},"description":""}}}},"/api/wallet/me/":{"get":{"operationId":"wallet_me_retrieve","tags":["wallet"],"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"200":{"description":"No response body"}}}},"/api/wallet/wallet/balance/":{"get":{"operationId":"wallet_wallet_balance_retrieve","tags":["wallet"],"security":[{"cookieAuth":[]},{"jwtAuth":[]}],"responses":{"200":{"description":"No response body"}}}}},"components":{"schemas":{"Booking":{"type":"object","properties":{"id":{"type":"integer","readOnly":true},"booking_no":{"type":"string","maxLength":24},"club":{"type":"integer"},"court":{"type":"integer"},"slot":{"type":"integer","nullable":true},"status":{"$ref":"#/components/schemas/BookingStatusEnum"},"created_at":{"type":"string","format":"date-time","readOnly":true},"user":{"type":"integer","readOnly":true}},"required":["booking_no","club","court","created_at","id","user"]},"BookingStatusEnum":{"enum":["pending","confirmed","walkin","checkin","endgame","cancelled","completed","no_show"],"type":"string","description":"* `pending` - pending\n* `confirmed` - confirmed\n* `walkin` - walkin\n* `checkin` - checkin\n* `endgame` - endgame\n* `cancelled` - cancelled\n* `completed` - completed\n* `no_show` - no_show"},"CourtlyTokenObtainPair":{"type":"object","description":"Accepts either {\"username\",\"password\"} or {\"email\",\"password\"}.\nMakes 'username' optional so posting only email works.\nAlso updates last_login and returns { firstLogin, user }.","properties":{"username":{"type":"string","writeOnly":true},"password":{"type":"string","writeOnly":true},"email":{"type":"string","format":"email"}},"required":["password"]},"PatchedBooking":{"type":"object","properties":{"id":{"type":"integer","readOnly":true},"booking_no":{"type":"string","maxLength":24},"club":{"type":"integer"},"court":{"type":"integer"},"slot":{"type":"integer","nullable":true},"status":{"$ref":"#/components/schemas/BookingStatusEnum"},"created_at":{"type":"string","format":"date-time","readOnly":true},"user":{"type":"integer","readOnly":true}}},"Register":{"type":"object","properties":{"username":{"type":"string","description":"Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only.","pattern":"^[\\w.@+-]+$","maxLength":150},"email":{"type":"string","format":"email","maxLength":254},"firstname":{"type":"string"},"lastname":{"type":"string"},"password":{"type":"string","writeOnly":true,"minLength":8},"confirm":{"type":"string","writeOnly":true},"accept":{"type":"boolean","writeOnly":true}},"required":["accept","confirm","email","firstname","lastname","password","username"]},"Slot":{"type":"object","properties":{"id":{"type":"integer","readOnly":true},"court":{"type":"integer"},"service_date":{"type":"string","format":"date"},"start_time":{"type":"string","readOnly":true},"end_time":{"type":"string","readOnly":true},"price_coins":{"type":"integer","maximum":2147483647,"minimum":0},"slot_status":{"allOf":[{"$ref":"#/components/schemas/SlotStatus"}],"readOnly":true}},"required":["court","end_time","id","service_date","slot_status","start_time"]},"SlotStatus":{"type":"object","properties":{"status":{"$ref":"#/components/schemas/SlotStatusStatusEnum"},"updated_at":{"type":"string","format":"date-time","readOnly":true}},"required":["updated_at"]},"SlotStatusStatusEnum":{"enum":["available","booked","maintenance"],"type":"string","description":"* `available` - available\n* `booked` - booked\n* `maintenance` - maintenance"},"TokenRefresh":{"type":"object","properties":{"access":{"type":"string","readOnly":true},"refresh":{"type":"string","writeOnly":true}},"required":["access","refresh"]}},"securitySchemes":{"cookieAuth":{"type":"apiKey","in":"cookie","name":"sessionid"},"jwtAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}